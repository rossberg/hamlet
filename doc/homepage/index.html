<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 //EN">

<HTML>

<HEAD>
<TITLE>HaMLet</TITLE>
</HEAD>

<BODY text="#000000" bgcolor="#FFFFFF">

<H1>HaMLet</H1>
&quot;To Be Or Not To Be Standard ML&quot; ;-)<BR>
<BR>
Version 2.0.1<BR>
<BR>


<H3>What is it?</H3>

<P>HaMLet is a faithful and complete implementation of the <A href="http://cm.bell-labs.com/cm/cs/what/smlnj/sml.html">Standard ML</A> programming language (SML'97). It aims to be</P>

<UL>
<LI>an accurate reference implementation of the language specification,</LI>
<LI>a platform for experimentation with the language semantics or extensions to it,</LI>
<LI>a useful tool for educational purposes.</LI>
</UL>

<P>The implementation is intended to be as direct a translation of the language formalisation found in the Definition of Standard ML <A href="#definition">[1]</A> as possible, modulo bug fixes. It tries hard to get all details of the Definition right. The HaMLet source code</P>

<UL>
<LI>implements complete Standard ML,</LI>
<LI>closely follows the structure of the Definition, with lots of cross references,</LI>
<LI>conforms to the latest version of the Standard ML Basis Library <A href="#basis">[2]</A>,</LI>
<LI>is written entirely in Standard ML, with the ability to bootstrap,</LI>
<LI>may readily be compiled with <A href="http://www.smlnj.org/">SML/NJ</A>, <A href="http://www.mlton.org/">MLton</A>, <A href="http://mosml.org/">Moscow ML</A>, <A href="http://www.polyml.org/">Poly/ML</A>, <A href="http://www.ps.uni-sb.de/alice/">Alice ML</A>, the <A href="http://www.it-c.dk/research/mlkit/">ML Kit</A>, or
<A href="http://www.pllab.riec.tohoku.ac.jp/smlsharp/">SML#</A>.</LI>
</UL>

<P>HaMLet can perform different phases of execution &mdash; like parsing, elaboration (type checking), and evaluation &mdash; selectively. In particular, it is possible to execute programs in an untyped manner, thus exploring a universe where even ML programs &quot;can go wrong&quot;.</P>

<P>It should be emphasized that HaMLet is by no means a development system, but has been solely written with the aforementioned goal of experimentation in mind. Interpretation is highly inefficient (since it is a direct implementation of the semantic rules) and error messages are rather basic. However, HaMLet is able to bootstrap itself.</P>

<P>As a byproduct, the HaMLet documentation contains a comprehensive list of all known <A href="defects.pdf">bugs and `grey areas'</A> in the current version of the SML language definition, which may be interesting on its own.</P>


<!--
<H3>Limitations of the current version</H3>

<P>Some aspects of the language are not yet implemented fully accurately:</P>

<UL>

<LI><P>Syntax: like all existing SML implementations, HaMLet does not parse every program that would be legal according to the Definition and its ambitious precedence rules. One notable example are case expressions as right hand sides of function declarations. On the other hand, HaMLet seems to be almost the only SML implementation that properly implements the dreaded &quot;<TT>where</TT> <TT>type</TT> ... <TT>and</TT> <TT>type</TT>&quot; derived form ;-).</P></LI>

<LI><P>Library: HaMLet does provide a significant portion of the Standard Basis Library <A href="#basis">[2]</A> but it is not complete.</P></LI>

</UL>
-->


<H3>What's new?</H3>

<P>Release 2.0.1 (2025/07/27) fixed a couple of minor bugs and some portability issues with the Makefile.</P>

<P>Release 2.0.0 (2013/10/10) brings a major revamp of the internal AST representation. In particular, elaboration now stores its results in the AST, which should make HaMLet more useful as an experimental compiler front-end. As a proof of concept, the release also integrates a simple compiler to JavaScript.</P>

<P>The most significant changes are:</P>

<UL>
<LI> Restructured AST to include annotations in the form of typed property list (breaks all code based on HaMLet 1, sorry <TT>:(</TT> ). </LI>
<LI> Elaboration stores result of each rule as annotation in AST. </LI>
<LI> Other restructurings to better support compilers, e.g., separate Elab/EvalProgram modules, and split StaticLibrary and DynamicLibrary. </LI>
<LI> Added simple JavaScript compiler and runtime as a proof of concept, accessible via the newly added <TT>-j</TT> mode.
<LI> Various bug fixes, improvements, code clean-ups and beautification. </LI>
</UL>

<!--
<P>Release 1.3.1 (2008/04/28) fixed some portability issues with the Makefile
and a conflict with the SML/NJ 110.67 library.</P>
-->

<P>See the <A href="CHANGES.txt">change log</A> for more details.</P>


<H3>Download</H3>

<P>The HaMLet sources are available as a tarball, zipfile or Debian package:</P>

<UL>
<LI>Sources (<A href="hamlet-2.0.1.tar.gz">gzipped tar</A> or
	     <A href="hamlet-2.0.1.zip">zip</A>)
    &mdash; includes PDF version of the documentation</LI>
<LI>Standalone documentation (<A href="hamlet-2.0.1.ps">Postscript</A> or
		   <A href="hamlet-2.0.1.pdf">hyperref'd PDF</A>)</LI>
<LI>A list of defects in the Definition &mdash; derived from Appendix A of the HaMLet documentation (<A href="defects.ps">Postscript</A> or <A href="defects.pdf">PDF</A>)</LI>
<LI>Old version 1.3.1 (<A href="hamlet-1.3.1.tar.gz">gzipped tar</A> or
	     <A href="hamlet-1.3.1.zip">zip</A>)</LI>
</UL>


<H3>Contact</H3>

<P>For questions, comments and bug reports please contact the author at</P>

<UL>
<LI><A href="mailto:rossberg@mpi-sws.org"><TT>rossberg@mpi-sws.org</TT></A></LI>
</UL>

<P>Feedback is always welcome.</P>


<A name="successor-ml">
<H2>Successor ML</H2>

<P>There also is a special "HaMLet S" that incorporates proposals for <A href="http://www.successor-ml.org/">Successor ML</A> (sML). It represents a testbed and sort of a personal vision of where sML might <strike>go</strike> have gone. Its most interesting features are:</P>

<UL>
<LI>Extensible records.</LI>
<LI>More expressive pattern matching.</LI>
<LI>Views.</LI>
<LI>Higher-order modules and nested signatures.</LI>
<LI>Local and first-class modules.</LI>
<LI>Miscellaneous fixes to known issues with SML.</LI>
</UL>

<P>Downloads (version 1.3.2S6, released 2025/07/27):</P>

<UL>
<LI><A href="README-succ.txt">Overview</A> of all extensions &mdash; for details see Appendix B of the <A href="hamlet-succ-1.3.2S6.pdf">documentation</A>, and the Successor ML <A href="http://www.successor-ml.org">Wiki</A>.
<LI>A few <A href="examples-succ/">program examples</A> demonstrating some of the extensions.
<LI>Sources (<A href="hamlet-succ-1.3.2S6.tar.gz">gzipped tar</A> or
	     <A href="hamlet-succ-1.3.2S6.zip">zip</A>)</LI>
</UL>

<P>See <A href="CHANGES-succ.txt">changes</A> for a version history. Note that HaMLet S is still based on HaMLet 1.3.</P>

<!--
<H3>Acknowledgements</H3>

<P>HaMLet owes much of its existence to the first version of the ML Kit <A
href="#mlkit">[3]</A>, which implemented SML'90. While a lot of inspiration came from the Kit, we believe that HaMLet is considerably simpler and closer to the Definition. Moreover, unlike the ML Kit, it also implements the dynamic semantics directly.</P>
-->


<H3>Other Implementations of Standard ML</H3>

<P>SML implementations more suitable as proper development systems are:</P>

<UL>

<LI>
<A href="http://www.smlnj.org/">Standard ML of New Jersey</A>
</LI>

<LI>
<A href="http://www.mlton.org/">MLton</A>
</LI>

<LI>
<A href="http://mosml.org">Moscow ML</A>
</LI>

<LI>
<A href="http://www.ps.uni-sb.de/alice/">Alice ML</A>
</LI>

<LI>
<A href="http://www.polyml.org/">Poly/ML</A>
</LI>

<LI>
<A href="http://www.it-c.dk/research/mlkit/">ML Kit</A>
</LI>

<LI>
<A href="http://www.cl.cam.ac.uk/research/tsg/SMLNET/">SML.NET</A>
</LI>

<LI>
<A href="http://www.pllab.riec.tohoku.ac.jp/smlsharp/">SML#</A>
</LI>

</UL>

<P>HaMLet evolved as a byproduct of the <A href="http://www.ps.uni-sb.de/alice/">Alice</A> project, and owes much of its existence to the first version of the <A href="http://www.it-c.dk/research/mlkit/">ML Kit</A>, which took a very similar approach.</P>


<H3>References</H3>

<OL>

<LI><A name="definition">
Robin Milner, Mads Tofte, Robert Harper, David MacQueen.<BR>
<A href="http://mitpress.mit.edu/book-home.tcl?isbn=0262631814">&quot;The Definition of Standard ML&quot; (Revised).</A><BR>
The MIT Press, 1997
</A>
</LI>
<BR>

<LI><A name="basis">
Emden Gansner, John Reppy.<BR>
&quot;The Standard ML Basis Library&quot;.<BR>
Cambridge University Press, 2004<BR>
<A href="http://www.standardml.org/Basis/">http://www.standardml.org/Basis/</A>
</A>
</LI>
<BR>

<!--
<LI><A name="mlkit">
Lars Birkedal, Nick Rothwell, Mads Tofte, David Turner.<BR>
&quot;The ML Kit&quot; (Version 1),<BR>
Technical Report 93/14.<BR>
University of Copenhagen, 1993<BR>
<A href="http://www.diku.dk/research-groups/topps/activities/kit2/mlkit1.html">http://www.diku.dk/research-groups/topps/activities/kit2/mlkit1.html</A>
</A>
</LI>
-->

</OL>


<HR>
<DIV align=RIGHT>
<I> <A href="http://www.mpi-sws.org/~rossberg/">Andreas Rossberg</A> </I>
- last modified 2025/07/27
</DIV>


</BODY>
</HTML>
